"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4078],{64078:function(e,t,a){a.d(t,{default:function(){return O}});var s=a(57437),r=a(2265),i=a(55343),l=a(45348),n=a(74453),c=a(92940),d=a(48496),o=a(68954),u=a(22023),m=a(71524),g=a(36356),p=a(41326),x=a(43674),h=a(99827),y=a(33907),f=a(87592),v=a(75733),b=a(37164),j=a(58184),w=a(54817),C=a(65607),N=a(66706),k=a(42421),F=a(76780),E=a(53225),M=a(48281),B=a(40933),z=a(29338),L=a(67),D=JSON.parse('{"courses":[{"id":"acc-1","title":"دورة التحليل المالى واعداد الميزانيات","description":"دورة شاملة في التحليل المالي وإعداد الميزانيات للمؤسسات المختلفة","instructor":{"id":"inst-1","name":"د. أحمد السيد","title":"خبير التحليل المالي والميزانيات","avatar":"/avatars/instructor-financial.jpg","rating":4.9,"students":850,"courses":8,"bio":"خبير في التحليل المالي مع خبرة 12 عام في البنوك والمؤسسات المالية"},"level":"متقدم","category":"التحليل المالي","duration":"8 أسابيع","students":850,"rating":4.9,"reviewCount":67,"price":599,"image":"/banar-cours.png","filesCount":12,"isOngoing":true,"progress":0,"totalFiles":12,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-1-1","name":"مقدمة في التحليل المالي","type":"folder","children":[{"id":"acc-1-1-1","name":"مفهوم التحليل المالي الأساسي","type":"document","size":"2.1 MB","isCompleted":false},{"id":"acc-1-1-2","name":"أدوات التحليل المالي","type":"document","size":"1.8 MB","isCompleted":false},{"id":"acc-1-1-3","name":"فيديو تعريفي بالتحليل المالي","type":"video","duration":"25:30","isCompleted":false}]},{"id":"acc-1-2","name":"إعداد الميزانيات التخطيطية","type":"folder","children":[{"id":"acc-1-2-1","name":"أنواع الميزانيات","type":"document","size":"3.2 MB","isCompleted":false},{"id":"acc-1-2-2","name":"خطوات إعداد الميزانية","type":"document","size":"2.7 MB","isCompleted":false},{"id":"acc-1-2-3","name":"تمارين عملية في إعداد الميزانيات","type":"excel","size":"1.5 MB","isNew":true,"canEdit":true}]},{"id":"acc-1-3","name":"التحليل المالي للقوائم المالية","type":"folder","children":[{"id":"acc-1-3-1","name":"تحليل الميزانية العمومية","type":"document","size":"2.9 MB","isCompleted":false},{"id":"acc-1-3-2","name":"تحليل قائمة الدخل","type":"document","size":"2.4 MB","isCompleted":false},{"id":"acc-1-3-3","name":"نسب التحليل المالي","type":"excel","size":"1.2 MB","canEdit":true}]}]},{"id":"acc-2","title":"كورس ادارة تشغيل المطاعم","description":"دورة متخصصة في إدارة العمليات التشغيلية للمطاعم والمقاهي","instructor":{"id":"inst-2","name":"د. فاطمة محمد","title":"خبيرة إدارة المطاعم والضيافة","avatar":"/avatars/instructor-restaurant.jpg","rating":4.8,"students":620,"courses":5,"bio":"خبيرة في إدارة المطاعم مع خبرة 10 سنوات في القطاع"},"level":"متوسط","category":"إدارة العمليات","duration":"6 أسابيع","students":620,"rating":4.8,"reviewCount":45,"price":449,"image":"/banar-cours.png","filesCount":10,"isOngoing":false,"progress":0,"totalFiles":10,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-2-1","name":"أساسيات إدارة المطاعم","type":"folder","children":[{"id":"acc-2-1-1","name":"تخطيط المطعم وتصميمه","type":"document","size":"2.3 MB","isCompleted":false},{"id":"acc-2-1-2","name":"إدارة المخزون والمشتريات","type":"document","size":"1.9 MB","isCompleted":false}]},{"id":"acc-2-2","name":"العمليات اليومية","type":"folder","children":[{"id":"acc-2-2-1","name":"إدارة الورديات والعاملين","type":"document","size":"2.1 MB","isCompleted":false},{"id":"acc-2-2-2","name":"خدمة العملاء والجودة","type":"video","duration":"18:45","isCompleted":false}]}]},{"id":"acc-3","title":"كورس التسويات البنكية","description":"دورة عملية في التسويات البنكية ومطابقة الحسابات","instructor":{"id":"inst-3","name":"د. محمد علي","title":"خبير التسويات المصرفية","avatar":"/avatars/instructor-banking.jpg","rating":4.7,"students":540,"courses":6,"bio":"خبير في التسويات البنكية مع خبرة في البنوك السعودية"},"level":"متوسط","category":"التسويات المصرفية","duration":"4 أسابيع","students":540,"rating":4.7,"reviewCount":38,"price":349,"image":"/banar-cours.png","filesCount":8,"isOngoing":false,"progress":0,"totalFiles":8,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-3-1","name":"مفهوم التسويات البنكية","type":"folder","children":[{"id":"acc-3-1-1","name":"أهمية التسويات البنكية","type":"document","size":"1.7 MB","isCompleted":false},{"id":"acc-3-1-2","name":"خطوات التسوية البنكية","type":"video","duration":"22:15","isCompleted":false}]},{"id":"acc-3-2","name":"التطبيق العملي","type":"folder","children":[{"id":"acc-3-2-1","name":"نماذج التسويات البنكية","type":"excel","size":"1.3 MB","canEdit":true},{"id":"acc-3-2-2","name":"حل المشاكل الشائعة","type":"document","size":"1.8 MB","isCompleted":false}]}]},{"id":"acc-4","title":"كورس التسويات الجردية","description":"دورة متخصصة في التسويات الجردية وإدارة المخزون","instructor":{"id":"inst-4","name":"د. سارة أحمد","title":"خبيرة الجرد والمخازن","avatar":"/avatars/instructor-inventory.jpg","rating":4.6,"students":480,"courses":4,"bio":"خبيرة في إدارة المخازن والجرد مع خبرة في الشركات الصناعية"},"level":"متوسط","category":"إدارة المخزون","duration":"5 أسابيع","students":480,"rating":4.6,"reviewCount":32,"price":399,"image":"/banar-cours.png","filesCount":9,"isOngoing":false,"progress":0,"totalFiles":9,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-4-1","name":"أساسيات الجرد والتسويات","type":"folder","children":[{"id":"acc-4-1-1","name":"أنواع الجرد وطرقه","type":"document","size":"2.2 MB","isCompleted":false},{"id":"acc-4-1-2","name":"إجراءات الجرد الفعلي","type":"video","duration":"28:00","isCompleted":false}]},{"id":"acc-4-2","name":"التسويات الجردية العملية","type":"folder","children":[{"id":"acc-4-2-1","name":"حساب التسويات الجردية","type":"excel","size":"1.6 MB","canEdit":true},{"id":"acc-4-2-2","name":"معالجة فروقات الجرد","type":"document","size":"1.9 MB","isCompleted":false}]}]},{"id":"acc-5","title":"كورس التقارير المالية والمحاسبية","description":"دورة شاملة في إعداد وتحليل التقارير المالية والمحاسبية","instructor":{"id":"inst-5","name":"د. خالد عبدالله","title":"خبير التقارير المالية","avatar":"/avatars/instructor-reports.jpg","rating":4.9,"students":720,"courses":7,"bio":"خبير في إعداد التقارير المالية مع خبرة في الشركات المدرجة"},"level":"متقدم","category":"التقارير المالية","duration":"7 أسابيع","students":720,"rating":4.9,"reviewCount":58,"price":549,"image":"/banar-cours.png","filesCount":11,"isOngoing":false,"progress":0,"totalFiles":11,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-5-1","name":"أساسيات التقارير المالية","type":"folder","children":[{"id":"acc-5-1-1","name":"هيكل التقرير المالي","type":"document","size":"2.5 MB","isCompleted":false},{"id":"acc-5-1-2","name":"معايير إعداد التقارير","type":"document","size":"2.1 MB","isCompleted":false}]},{"id":"acc-5-2","name":"إعداد القوائم المالية","type":"folder","children":[{"id":"acc-5-2-1","name":"إعداد الميزانية العمومية","type":"excel","size":"1.8 MB","canEdit":true},{"id":"acc-5-2-2","name":"إعداد قائمة الدخل","type":"excel","size":"1.4 MB","canEdit":true}]}]},{"id":"acc-6","title":"كورس المخازن","description":"دورة متخصصة في إدارة المخازن وأنظمة الرقابة على المخزون","instructor":{"id":"inst-6","name":"د. لينا محمود","title":"خبيرة إدارة المخازن واللوجستيات","avatar":"/avatars/instructor-warehouse.jpg","rating":4.7,"students":590,"courses":5,"bio":"خبيرة في إدارة المخازن مع خبرة في سلاسل التوريد"},"level":"متوسط","category":"إدارة المخزون","duration":"5 أسابيع","students":590,"rating":4.7,"reviewCount":41,"price":429,"image":"/banar-cours.png","filesCount":9,"isOngoing":false,"progress":0,"totalFiles":9,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-6-1","name":"أساسيات إدارة المخازن","type":"folder","children":[{"id":"acc-6-1-1","name":"تخطيط وتصميم المخزن","type":"document","size":"2.0 MB","isCompleted":false},{"id":"acc-6-1-2","name":"أنظمة الرفوف والتخزين","type":"video","duration":"19:30","isCompleted":false}]},{"id":"acc-6-2","name":"العمليات التشغيلية","type":"folder","children":[{"id":"acc-6-2-1","name":"إجراءات الاستلام والتسليم","type":"document","size":"1.8 MB","isCompleted":false},{"id":"acc-6-2-2","name":"نظام مراقبة المخزون","type":"excel","size":"1.5 MB","canEdit":true}]}]},{"id":"acc-7","title":"كورس المشتريات","description":"دورة شاملة في إدارة عمليات المشتريات وتوريد المواد","instructor":{"id":"inst-7","name":"د. عمر حسن","title":"خبير إدارة المشتريات والتوريد","avatar":"/avatars/instructor-procurement.jpg","rating":4.8,"students":670,"courses":6,"bio":"خبير في إدارة المشتريات مع خبرة في الشركات الكبرى"},"level":"متوسط","category":"إدارة المشتريات","duration":"6 أسابيع","students":670,"rating":4.8,"reviewCount":49,"price":479,"image":"/banar-cours.png","filesCount":10,"isOngoing":false,"progress":0,"totalFiles":10,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-7-1","name":"أساسيات إدارة المشتريات","type":"folder","children":[{"id":"acc-7-1-1","name":"دورة المشتريات في المؤسسة","type":"document","size":"2.3 MB","isCompleted":false},{"id":"acc-7-1-2","name":"تخطيط احتياجات المواد","type":"document","size":"1.9 MB","isCompleted":false}]},{"id":"acc-7-2","name":"عمليات الشراء والتوريد","type":"folder","children":[{"id":"acc-7-2-1","name":"إجراءات طلب العروض","type":"document","size":"2.1 MB","isCompleted":false},{"id":"acc-7-2-2","name":"تقييم الموردين واختيارهم","type":"video","duration":"24:15","isCompleted":false}]}]},{"id":"acc-8","title":"كورس تاسيس المالية","description":"دورة متخصصة في التأسيس المالي للشركات الناشئة والمشاريع","instructor":{"id":"inst-8","name":"د. نورة السعد","title":"خبيرة التأسيس المالي والتمويل","avatar":"/avatars/instructor-startup.jpg","rating":4.9,"students":780,"courses":8,"bio":"خبيرة في التأسيس المالي للشركات الناشئة مع خبرة في الاستثمار"},"level":"مبتدئ","category":"التأسيس المالي","duration":"4 أسابيع","students":780,"rating":4.9,"reviewCount":62,"price":349,"image":"/banar-cours.png","filesCount":8,"isOngoing":false,"progress":0,"totalFiles":8,"completedFiles":0,"certificate":{"earned":false,"type":"إتمام"},"files":[{"id":"acc-8-1","name":"التخطيط المالي للمشاريع الجديدة","type":"folder","children":[{"id":"acc-8-1-1","name":"دراسة الجدوى المالية","type":"document","size":"2.4 MB","isCompleted":false},{"id":"acc-8-1-2","name":"تقدير التكاليف والإيرادات","type":"excel","size":"1.7 MB","canEdit":true}]},{"id":"acc-8-2","name":"تمويل المشاريع الناشئة","type":"folder","children":[{"id":"acc-8-2-1","name":"مصادر التمويل المتاحة","type":"document","size":"2.0 MB","isCompleted":false},{"id":"acc-8-2-2","name":"إعداد خطة التمويل","type":"document","size":"1.8 MB","isCompleted":false}]}]}]}');class Z{static getInstance(){return Z.instance||(Z.instance=new Z),Z.instance}loadCourses(){try{if(!D||!D.courses){this.courses=[];return}this.courses=D.courses,this.courses.length}catch(e){this.courses=[]}}getAllCourses(){return[...this.courses]}getCourseById(e){return this.courses.find(t=>t.id===e)}searchCourses(e){if(!e.trim())return this.getAllCourses();let t=e.toLowerCase();return this.courses.filter(e=>{var a;return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.instructor.name.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||(null===(a=e.tags)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(t)))})}filterCourses(e,t){let a=[...e];return t.category&&"الكل"!==t.category&&(a=a.filter(e=>e.category===t.category)),t.level&&"الكل"!==t.level&&(a=a.filter(e=>e.level===t.level)),t.priceRange&&(a=a.filter(e=>e.price>=t.priceRange.min&&e.price<=t.priceRange.max)),t.rating&&(a=a.filter(e=>e.rating>=t.rating)),t.duration&&(a=a.filter(e=>e.duration===t.duration)),t.instructor&&(a=a.filter(e=>e.instructor.name.toLowerCase().includes(t.instructor.toLowerCase()))),t.tags&&t.tags.length>0&&(a=a.filter(e=>{var a;return null===(a=e.tags)||void 0===a?void 0:a.some(e=>t.tags.includes(e))})),a}sortCourses(e,t){let a=[...e];return a.sort((e,a)=>{let s,r;switch(t.field){case"rating":s=e.rating,r=a.rating;break;case"students":s=e.students,r=a.students;break;case"price":s=e.price,r=a.price;break;case"title":s=e.title,r=a.title;break;case"createdAt":s=new Date(e.createdAt||0),r=new Date(a.createdAt||0);break;case"updatedAt":s=new Date(e.updatedAt||0),r=new Date(a.updatedAt||0);break;default:return 0}return s<r?"asc"===t.direction?-1:1:s>r?"asc"===t.direction?1:-1:0}),a}paginateCourses(e,t,a){let s=(t-1)*a;return e.slice(s,s+a)}getCoursesStats(){let e=this.courses.length,t=this.courses.reduce((e,t)=>e+t.students,0),a=this.courses.reduce((e,t)=>e+t.rating,0)/e;return{totalCourses:e,totalStudents:t,averageRating:Math.round(10*a)/10,categories:[...new Set(this.courses.map(e=>e.category))].length,featuredCourses:this.courses.filter(e=>e.isFeatured).length,popularCourses:this.courses.filter(e=>e.isPopular).length}}getFeaturedCourses(){return this.courses.filter(e=>e.isFeatured)}getPopularCourses(){return this.courses.filter(e=>e.isPopular)}getOngoingCourses(){return this.courses.filter(e=>e.isOngoing)}getCoursesByCategory(e){return this.courses.filter(t=>t.category===e)}getCoursesByLevel(e){return this.courses.filter(t=>t.level===e)}updateFileStatus(e,t,a){let s=this.courses.find(t=>t.id===e);if(!s)return!1;let r=e=>{for(let s of e){if(s.id===t)return s.isCompleted=a,!0;if(s.children&&r(s.children))return!0}return!1};return!!(s.files&&r(s.files))&&(this.updateCourseProgress(s),!0)}updateCourseProgress(e){if(!e.files)return;let t=this.countTotalFiles(e.files),a=this.countCompletedFiles(e.files);e.completedFiles=a,e.totalFiles=t,e.progress=t>0?Math.round(a/t*100):0}countTotalFiles(e){let t=0;for(let a of e)"folder"!==a.type&&t++,a.children&&(t+=this.countTotalFiles(a.children));return t}countCompletedFiles(e){let t=0;for(let a of e)"folder"!==a.type&&a.isCompleted&&t++,a.children&&(t+=this.countCompletedFiles(a.children));return t}getFilePath(e,t){let a=this.courses.find(t=>t.id===e);if(!a||!a.files)return[];let s=[],r=(e,a)=>{for(let i of e){let e=[...a,i.name];if(i.id===t)return s.push(...e),!0;if(i.children&&r(i.children,e))return!0}return!1};return r(a.files,[]),s}getAvailableCategories(){return[...new Set(this.courses.map(e=>e.category))].sort()}getAvailableLevels(){return[...new Set(this.courses.map(e=>e.level))].sort()}getAvailableTags(){return[...new Set(this.courses.flatMap(e=>e.tags||[]))].sort()}constructor(){this.courses=[],this.loadCourses()}}let T=Z.getInstance();var A=a(88726);let S=e=>{let{mode:t="courses",showDownloadButtons:a=!0,showCourseFilter:D=!0}=e,[Z,S]=(0,r.useState)({loading:!1,error:null,searchTerm:"",selectedFile:null,expandedCourses:new Set,expandedFolders:new Set,filterType:"all"}),O=(0,r.useRef)(null),R=(0,r.useMemo)(()=>{try{return T.getAllCourses()}catch(e){return[]}},[]),H=(0,r.useCallback)(e=>{S(t=>{let a=new Set(t.expandedCourses);return a.has(e)?a.delete(e):a.add(e),{...t,expandedCourses:a}})},[]),P=(0,r.useCallback)(e=>{S(t=>{let a=new Set(t.expandedFolders);return a.has(e)?a.delete(e):a.add(e),{...t,expandedFolders:a}})},[]),I=(0,r.useCallback)(e=>{S(t=>({...t,selectedFile:e}))},[]),_=(0,r.useCallback)(e=>{S(t=>({...t,searchTerm:e}))},[]),J=(0,r.useCallback)(e=>{S(t=>({...t,filterType:e}))},[]),K=(0,r.useCallback)(()=>{S(e=>({...e,loading:!0})),setTimeout(()=>{S(e=>({...e,loading:!1})),A.ZP.success("تم تحديث البيانات")},1e3)},[]);(0,r.useEffect)(()=>{let e=e=>{let t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"true"!==t.contentEditable)switch(e.key.toLowerCase()){case"f":if(e.ctrlKey){var a;e.preventDefault(),null===(a=O.current)||void 0===a||a.focus()}break;case"r":e.ctrlKey&&(e.preventDefault(),K())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[K]),(0,r.useMemo)(()=>{if(!R)return[];let e=[],t=a=>{a.forEach(a=>{("all"===Z.filterType||a.type===Z.filterType)&&(!Z.searchTerm||a.name.toLowerCase().includes(Z.searchTerm.toLowerCase()))&&e.push(a),a.children&&t(a.children)})};return R.forEach(e=>{e.files&&t(e.files)}),e},[R,Z.filterType,Z.searchTerm]);let G=(0,r.useCallback)((e,t,a,r,i)=>{let l;if(a)return(0,s.jsx)(n.Z,{className:"w-4 h-4 text-gray-400"});if(t)return(0,s.jsx)(c.Z,{className:"w-4 h-4 text-green-500"});let f={className:"w-4 h-4 ".concat((0,L.GJ)(e))};switch(e){case"folder":l=(0,s.jsx)(d.Z,{...f});break;case"video":l=(0,s.jsx)(o.Z,{...f});break;case"document":case"pdf":l=(0,s.jsx)(u.Z,{...f});break;case"word":l=(0,s.jsx)(m.Z,{...f});break;case"excel":l=(0,s.jsx)(g.Z,{...f});break;case"powerpoint":case"presentation":l=(0,s.jsx)(p.Z,{...f});break;case"image":l=(0,s.jsx)(x.Z,{...f});break;default:l=(0,s.jsx)(h.Z,{...f})}return(0,s.jsxs)("div",{className:"relative",children:[l,(r||i)&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,s.jsx)(y.Z,{className:"w-2 h-2 ".concat(r?"text-yellow-500":"text-blue-500")})})]})},[]),U=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>{var r;return(0,s.jsxs)("div",{className:"".concat(t>0?"ml-6":""),children:[(0,s.jsxs)(i.E.div,{className:"flex items-center py-2 px-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors ".concat("folder"===e.type?"hover:bg-blue-50 dark:hover:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"," ").concat((null===(r=Z.selectedFile)||void 0===r?void 0:r.id)===e.id?"bg-blue-50 dark:bg-blue-900/20":""),onClick:()=>{"folder"===e.type?P(e.id):I(e)},whileHover:{x:4},whileTap:{scale:.98},children:["folder"===e.type&&(0,s.jsx)(i.E.div,{animate:{rotate:Z.expandedFolders.has(e.id)?90:0},transition:{duration:.2},className:"mr-2",children:(0,s.jsx)(f.Z,{className:"w-4 h-4 text-gray-400"})}),"folder"!==e.type&&(0,s.jsx)("div",{className:"w-6"}),G(e.type,e.isCompleted,e.isLocked,e.isNew,e.isModified),(0,s.jsx)("span",{className:"mr-3 text-sm flex-1 ".concat(e.isLocked?"text-gray-400":"text-gray-700 dark:text-gray-300"),children:e.name}),e.duration&&(0,s.jsx)("span",{className:"mr-2 text-xs text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:e.duration}),e.size&&(0,s.jsx)("span",{className:"mr-2 text-xs text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:e.size}),(0,s.jsx)("div",{className:"mr-auto flex space-x-2 space-x-reverse",children:"folder"!==e.type&&!e.isLocked&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.E.button,{className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"معاينة",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(v.Z,{className:"w-3 h-3"})}),a&&(0,s.jsx)(i.E.button,{className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"تحميل",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(b.Z,{className:"w-3 h-3"})}),e.canEdit&&(0,s.jsx)(i.E.button,{className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"رفع ملف جديد",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(j.Z,{className:"w-3 h-3"})})]})})]}),"folder"===e.type&&e.children&&(0,s.jsx)(l.M,{children:Z.expandedFolders.has(e.id)&&(0,s.jsx)(i.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:U(e.children,t+1)})})]},e.id)})},[Z.expandedFolders,Z.selectedFile,P,I,G,a]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4},className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"files"===t?"مكتبة ملفات الكورسات":"إدارة الدورات والملفات"}),(0,s.jsx)("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-3xl mx-auto",children:"files"===t?"استكشف جميع الملفات والمواد التعليمية المتاحة لكل كورس بطريقة منظمة وسهلة.":"تتبع تقدمك في الدورات، استكشف الملفات التدريبية، وإدارة محتوى التعلم بكفاءة."})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-8",children:[(0,s.jsx)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-blue-700 dark:text-blue-300",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("kbd",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded text-xs font-mono",children:"Ctrl+F"}),(0,s.jsx)("span",{children:"البحث السريع"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("kbd",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded text-xs font-mono",children:"Ctrl+R"}),(0,s.jsx)("span",{children:"تحديث البيانات"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(w.Z,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,s.jsx)("input",{ref:O,type:"text",placeholder:"ابحث عن ملف... (Ctrl+F للتركيز السريع)",value:Z.searchTerm,onChange:e=>_(e.target.value),className:"w-full pr-12 pl-6 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),D&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C.Z,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("select",{value:Z.filterType,onChange:e=>J(e.target.value),className:"px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,s.jsx)("option",{value:"all",children:"جميع الملفات"}),(0,s.jsx)("option",{value:"video",children:"فيديوهات"}),(0,s.jsx)("option",{value:"document",children:"مستندات"}),(0,s.jsx)("option",{value:"pdf",children:"PDF"}),(0,s.jsx)("option",{value:"word",children:"Word"}),(0,s.jsx)("option",{value:"excel",children:"Excel"}),(0,s.jsx)("option",{value:"presentation",children:"عروض تقديمية"}),(0,s.jsx)("option",{value:"image",children:"صور"}),(0,s.jsx)("option",{value:"audio",children:"صوتيات"})]})]}),(0,s.jsxs)(i.E.button,{onClick:K,disabled:Z.loading,className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 ".concat(Z.loading?"animate-spin":"")}),"تحديث"]})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:Z.loading?Array.from({length:3}).map((e,t)=>(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden animate-pulse",children:(0,s.jsxs)("div",{className:"p-6 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/3"})]})},t)):"courses"===t?R.map((e,t)=>(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.1*t,duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 bg-gradient-to-r from-primary to-primary-dark text-white cursor-pointer hover:bg-primary-dark transition-colors",onClick:()=>H(e.id),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,s.jsx)(i.E.div,{animate:{rotate:Z.expandedCourses.has(e.id)?180:0},transition:{duration:.3},children:(0,s.jsx)(k.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.title}),(0,s.jsx)("p",{className:"text-gray-700 text-sm mt-1 leading-relaxed",children:e.description}),(0,s.jsxs)("p",{className:"text-primary-100 text-sm",children:[e.instructor.name," • ",e.category," •"," ",e.level]})]})]}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsxs)("div",{className:"text-sm text-primary-100",title:"الملفات المكتملة من إجمالي الملفات",children:[e.completedFiles," من ",e.totalFiles," ملف"]}),(0,s.jsx)("div",{className:"w-24 bg-white bg-opacity-20 rounded-full h-2 mt-1",children:(0,s.jsx)("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:"".concat((e.completedFiles||0)/(e.totalFiles||1)*100,"%")}})})]})]})}),(0,s.jsx)(l.M,{children:Z.expandedCourses.has(e.id)&&(0,s.jsx)(i.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,s.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:e.files&&U(e.files)})})})]},e.id)):(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[(0,s.jsx)(F.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"لا توجد دورات متاحة"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"لم يتم العثور على أي دورات في النظام"})]})}),"courses"===t&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.3,duration:.4},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)(i.E.div,{whileHover:{scale:1.02,y:-4},initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(E.Z,{className:"w-8 h-8 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"التقدم العام"})]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-primary mb-2",children:[Math.round(R.reduce((e,t)=>e+(t.completedFiles||0),0)/R.reduce((e,t)=>e+(t.totalFiles||1),0)*100),"%"]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(R.reduce((e,t)=>e+(t.completedFiles||0),0)/R.reduce((e,t)=>e+(t.totalFiles||1),0)*100,"%")}})})]}),(0,s.jsxs)(i.E.div,{whileHover:{scale:1.02,y:-4},initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(M.Z,{className:"w-8 h-8 text-yellow-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"الشهادات"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-yellow-500 mb-2",children:R.filter(e=>{var t;return null===(t=e.certificate)||void 0===t?void 0:t.earned}).length}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"شهادة مكتملة"})]}),(0,s.jsxs)(i.E.div,{whileHover:{scale:1.02,y:-4},initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(B.Z,{className:"w-8 h-8 text-green-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"الساعات"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-green-500 mb-2",children:"24"}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"ساعة مكتملة"})]}),(0,s.jsxs)(i.E.div,{whileHover:{scale:1.02,y:-4},initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(z.Z,{className:"w-8 h-8 text-purple-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"الإنجازات"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:"3"}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"إنجاز جديد"})]})]}),"courses"===t&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.5,duration:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-primary mb-4",children:"ملخص التقدم"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-primary",children:R.length}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"إجمالي الدورات"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-500",children:R.reduce((e,t)=>e+(t.completedFiles||0),0)}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"ملفات مكتملة"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-500",children:R.reduce((e,t)=>e+(t.totalFiles||0),0)}),(0,s.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"إجمالي الملفات"})]})]})]})]})};S.displayName="CourseTreeView";var O=S},67:function(e,t,a){a.d(t,{GJ:function(){return s},Ib:function(){return l},RL:function(){return n},ai:function(){return r},ci:function(){return d},dK:function(){return o},hS:function(){return c},tH:function(){return i}});let s=e=>({folder:"text-blue-500",video:"text-red-500",document:"text-gray-600",image:"text-purple-500",presentation:"text-orange-500",word:"text-blue-600",excel:"text-green-600",pdf:"text-red-600",audio:"text-purple-500",powerpoint:"text-orange-500"})[e]||"text-gray-500",r=(e,t)=>e.filter(e=>{if(t.search){var a;let s=t.search.toLowerCase();if(!(e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.instructor.name.toLowerCase().includes(s)||e.category.toLowerCase().includes(s)||(null===(a=e.tags)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(s)))))return!1}if(t.category&&"الكل"!==t.category&&e.category!==t.category||t.level&&"الكل"!==t.level&&e.level!==t.level||t.priceRange&&(e.price<t.priceRange.min||e.price>t.priceRange.max)||t.rating&&e.rating<t.rating||(t.duration,t.instructor&&!e.instructor.name.toLowerCase().includes(t.instructor.toLowerCase())))return!1;if(t.tags&&t.tags.length>0){let a=e.tags||[];if(!t.tags.some(e=>a.some(t=>t.toLowerCase().includes(e.toLowerCase()))))return!1}return!0}),i=(e,t)=>[...e].sort((e,a)=>{let s,r;switch(t.field){case"rating":s=e.rating,r=a.rating;break;case"students":s=e.students,r=a.students;break;case"price":s=e.price,r=a.price;break;case"title":s=e.title,r=a.title;break;case"createdAt":s=new Date(e.createdAt||0),r=new Date(a.createdAt||0);break;case"updatedAt":s=new Date(e.updatedAt||0),r=new Date(a.updatedAt||0);break;default:return 0}return s<r?"asc"===t.direction?-1:1:s>r?"asc"===t.direction?1:-1:0}),l=(e,t,a)=>{let s=(t-1)*a;return e.slice(s,s+a)},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ريال";return"".concat(e.toLocaleString()," ").concat(t)},c=e=>({مبتدئ:"\uD83D\uDFE2",متوسط:"\uD83D\uDFE1",متقدم:"\uD83D\uDD34"})[e]||"⚪",d=e=>{if(!e.createdAt)return!1;let t=new Date;return t.setDate(t.getDate()-30),new Date(e.createdAt)>t},o=e=>e.rating>=4.5&&e.students>=100}}]);