"use strict";exports.id=7845,exports.ids=[7845],exports.modules={31540:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},12714:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9015:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},94893:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},52861:(e,t,s)=>{s.d(t,{Z:()=>v});var a=s(10326),r=s(17577),l=s(13501),i=s(9015),n=s(36283),c=s(94019),d=s(12714),o=s(31540),m=s(50949),x=s(62881);let h=(0,x.Z)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),u=(0,x.Z)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),p=(0,x.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),b=(0,x.Z)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var y=s(40381);let v=({file:e,onClose:t,className:s=""})=>{let[x,v]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(100),[f,k]=(0,r.useState)(0),[Z,P]=(0,r.useState)(!1),[E,M]=(0,r.useState)(!1);(0,r.useEffect)(()=>{C()},[]);let C=async()=>{try{M(!0)}catch(e){y.ZP.error("خطأ في فحص الصلاحيات، ولكن سيتم السماح بالوصول"),M(!0)}},D=async()=>{if(!e.downloadAllowed){y.ZP.error("التحميل غير مسموح لهذا الملف");return}v(!0);try{await new Promise(e=>setTimeout(e,2e3));let t=`${e.url}?token=${H()}&expires=${Date.now()+3e5}`,s=document.createElement("a");s.href=t,s.download=e.name,s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s),y.ZP.success("تم بدء التحميل بنجاح")}catch(e){y.ZP.error("فشل في التحميل، يرجى المحاولة مرة أخرى")}finally{v(!1)}},H=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),S=e=>{switch(e){case"in":N(e=>Math.min(e+25,200));break;case"out":N(e=>Math.max(e-25,50));break;case"reset":N(100),k(0)}};return E?(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden ${s}`,children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${e.isProtected?"bg-white/20":"bg-white/10"}`,children:a.jsx(n.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:e.name}),(0,a.jsxs)("p",{className:"text-blue-100 text-sm",children:[e.size," • ",e.type.toUpperCase(),e.isProtected&&" • محمي بحقوق الطبع"]})]})]}),t&&a.jsx(l.E.button,{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(c.Z,{className:"w-5 h-5"})})]}),e.description&&a.jsx("p",{className:"mt-3 text-blue-100 text-sm leading-relaxed",children:e.description})]}),a.jsx("div",{className:"p-6",children:g?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(l.E.button,{onClick:()=>S("out"),className:"p-2 hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(h,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 min-w-[60px] text-center",children:[w,"%"]}),a.jsx(l.E.button,{onClick:()=>S("in"),className:"p-2 hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(u,{className:"w-5 h-5 text-gray-600"})}),a.jsx("div",{className:"w-px h-6 bg-gray-300"}),a.jsx(l.E.button,{onClick:()=>{k(e=>(e+90)%360)},className:"p-2 hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(p,{className:"w-5 h-5 text-gray-600"})}),a.jsx(l.E.button,{onClick:()=>{P(!Z)},className:"p-2 hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(b,{className:"w-5 h-5 text-gray-600"})})]}),a.jsx(l.E.button,{onClick:()=>j(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"إغلاق المعاينة"})]}),(0,a.jsxs)("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden min-h-[400px] flex items-center justify-center",children:["pdf"===e.type?(0,a.jsxs)("div",{className:"text-center p-8",children:[a.jsx(n.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"معاينة ملف PDF"}),a.jsx("p",{className:"text-sm text-gray-500",children:"هذه منطقة معاينة آمنة لملف PDF"})]}):e.type.startsWith("doc")?(0,a.jsxs)("div",{className:"text-center p-8",children:[a.jsx(n.Z,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"معاينة مستند Word"}),a.jsx("p",{className:"text-sm text-gray-500",children:"هذه منطقة معاينة آمنة لمستند Word"})]}):e.type.startsWith("ppt")?(0,a.jsxs)("div",{className:"text-center p-8",children:[a.jsx(n.Z,{className:"w-16 h-16 text-orange-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"معاينة عرض تقديمي"}),a.jsx("p",{className:"text-sm text-gray-500",children:"هذه منطقة معاينة آمنة لعرض PowerPoint"})]}):e.type.startsWith("xls")?(0,a.jsxs)("div",{className:"text-center p-8",children:[a.jsx(n.Z,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"معاينة جدول بيانات"}),a.jsx("p",{className:"text-sm text-gray-500",children:"هذه منطقة معاينة آمنة لملف Excel"})]}):(0,a.jsxs)("div",{className:"text-center p-8",children:[a.jsx(n.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"نوع الملف غير مدعوم للمعاينة"}),a.jsx("p",{className:"text-sm text-gray-500",children:"يمكنك تحميل الملف مباشرة"})]}),e.isProtected&&a.jsx("div",{className:"absolute top-4 right-4 bg-amber-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"محمي"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"معلومات الملف:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"النوع:"}),a.jsx("span",{className:"text-blue-800 mr-2",children:e.type.toUpperCase()})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"الحجم:"}),a.jsx("span",{className:"text-blue-800 mr-2",children:e.size})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"الحالة:"}),a.jsx("span",{className:`mr-2 ${e.isProtected?"text-amber-800":"text-green-800"}`,children:e.isProtected?"محمي بحقوق الطبع":"متاح للتحميل"})]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center ${e.isProtected?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:e.isProtected?a.jsx(i.Z,{className:"w-10 h-10"}):a.jsx(d.Z,{className:"w-10 h-10"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.isProtected?"ملف محمي":"معاينة الملف"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:e.isProtected?"هذا الملف محمي بحقوق الطبع والنشر. يمكنك معاينته فقط دون إمكانية النسخ أو التحميل.":"يمكنك معاينة هذا الملف أو تحميله مباشرة."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.previewAvailable&&(0,a.jsxs)(l.E.button,{onClick:()=>{if(!e.previewAvailable){y.ZP.error("المعاينة غير متاحة لهذا الملف");return}j(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(d.Z,{className:"w-5 h-5"}),"معاينة الملف"]}),e.downloadAllowed&&a.jsx(l.E.button,{onClick:D,disabled:x,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",whileHover:x?void 0:{scale:1.05},whileTap:x?void 0:{scale:.95},children:x?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"جاري التحميل..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{className:"w-5 h-5"}),"تحميل الملف"]})})]}),e.isProtected&&a.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-800 text-sm",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"هذا الملف محمي بحقوق الطبع والنشر ولا يمكن نسخه أو مشاركته"})]})})]})})]}):(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center ${s}`,children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(i.Z,{className:"w-8 h-8 text-red-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"غير مسموح بالوصول"}),a.jsx("p",{className:"text-gray-600",children:"ليس لديك صلاحية للوصول إلى هذا الملف"})]})}},22955:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(10326),r=s(17577),l=s(40381);let i=({children:e,level:t="strict",showWarning:s=!0,bypassProtection:i=!1})=>{let[n,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if(i){c(!0);return}let e=!1,a=a=>{if("basic"!==t)return a.preventDefault(),s&&!e&&(l.ZP.error("النقر اليميني محظور لهذا المحتوى"),e=!0),!1},r=e=>{if("maximum"===t){if("F12"===e.key)return e.preventDefault(),s&&l.ZP.error("أدوات التطوير محظورة"),!1;if(e.ctrlKey&&"u"===e.key)return e.preventDefault(),s&&l.ZP.error("عرض المصدر محظور"),!1;if(e.ctrlKey&&"s"===e.key)return e.preventDefault(),s&&l.ZP.error("الحفظ محظور"),!1;if(e.ctrlKey&&"p"===e.key)return e.preventDefault(),s&&l.ZP.error("الطباعة محظورة"),!1;if(e.ctrlKey&&"a"===e.key)return e.preventDefault(),!1}},n=e=>{if("basic"!==t)return e.preventDefault(),!1},d=e=>{if("maximum"===t)return e.preventDefault(),!1},o=()=>{if("maximum"===t)return s&&l.ZP.error("لقطات الشاشة محظورة لهذا المحتوى"),!1};document.addEventListener("contextmenu",a),document.addEventListener("keydown",r),document.addEventListener("dragstart",n),document.addEventListener("selectstart",d);let m=null;return"maximum"===t&&(document.addEventListener("keydown",e=>{"PrintScreen"===e.key&&o()}),m=setInterval(()=>{"maximum"===t&&(window.outerHeight-window.innerHeight>160||window.outerWidth-window.innerWidth>160)&&(s&&l.ZP.error("أدوات التطوير محظورة"),window.close())},1e3)),c(!0),()=>{document.removeEventListener("contextmenu",a),document.removeEventListener("keydown",r),document.removeEventListener("dragstart",n),document.removeEventListener("selectstart",d),"maximum"===t&&m&&clearInterval(m)}},[t,s]),n)?(0,a.jsxs)("div",{className:"content-protection","data-protection-level":t,children:[s&&"basic"!==t&&a.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-800 text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:"هذا المحتوى محمي بحقوق الطبع والنشر ولا يمكن نسخه أو مشاركته"})]})}),a.jsx("div",{className:`protected-content ${"maximum"===t?"max-protection":""}`,children:e}),(0,a.jsxs)("div",{className:"absolute -top-96 -left-96 opacity-0 pointer-events-none select-none",children:["Protected Content - خطى التعليمية - ",new Date().toISOString()]})]}):a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}},73881:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};